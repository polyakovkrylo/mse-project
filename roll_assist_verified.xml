<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
bool enable_roll_assistance = true;
bool alt_mode_chg = true;
bool alt_assist = true;
bool nosedive = false;
broadcast chan roll_assist_enabled, roll_assist_disabled;
chan alt_mode;
int roll=46;
bool roll_ip = false;
bool manual_mode = false;


</declaration><template><name x="5" y="5">Alt_assist</name><declaration>// Place local declarations here.

</declaration><location id="id0" x="-40" y="-80"><name x="-51" y="-68">threshold_update</name></location><location id="id1" x="-320" y="-80"><name x="-330" y="-110">compensate</name></location><location id="id2" x="-184" y="-256"><name x="-194" y="-286">monitor</name></location><location id="id3" x="-184" y="-464"><name x="-194" y="-494">Init</name></location><init ref="id3"/><transition><source ref="id2"/><target ref="id3"/><label kind="synchronisation" x="-510" y="-374">roll_assist_disabled?</label><nail x="-360" y="-384"/></transition><transition><source ref="id3"/><target ref="id2"/><label kind="guard" x="-244" y="-406">alt_assist == true</label><label kind="synchronisation" x="-244" y="-391">roll_assist_enabled?</label></transition><transition><source ref="id0"/><target ref="id2"/><nail x="88" y="-184"/></transition><transition><source ref="id1"/><target ref="id2"/><label kind="guard" x="-504" y="-240">roll == 0 || manual_mode == true</label><nail x="-400" y="-200"/></transition><transition><source ref="id2"/><target ref="id0"/><label kind="guard" x="-172" y="-198">alt_mode_chg == true</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="guard" x="-312" y="-198">nosedive == true</label><label kind="assignment" x="-328" y="-88">roll = 0</label><nail x="-312" y="-96"/></transition></template><template><name>Role_assist</name><location id="id4" x="112" y="56"><name x="102" y="26">Roll</name></location><location id="id5" x="-72" y="184"><name x="-82" y="154">Block</name></location><location id="id6" x="-264" y="56"><name x="-357" y="17">Compensate</name></location><location id="id7" x="-80" y="-56"><name x="-90" y="-86">Monitor</name></location><location id="id8" x="-80" y="-240"><name x="-90" y="-270">Init</name></location><init ref="id8"/><transition><source ref="id7"/><target ref="id7"/><label kind="guard" x="-24" y="-104">roll == 0</label><label kind="assignment" x="-40" y="-80">roll = 46</label><nail x="-64" y="-48"/><nail x="0" y="-56"/><nail x="-48" y="-104"/></transition><transition><source ref="id7"/><target ref="id8"/><label kind="synchronisation" x="-365" y="-178">roll_assist_disabled?</label><nail x="-232" y="-176"/></transition><transition><source ref="id8"/><target ref="id7"/><label kind="guard" x="-140" y="-198">alt_assist == false</label><label kind="synchronisation" x="-140" y="-183">roll_assist_enabled?</label></transition><transition><source ref="id6"/><target ref="id4"/><label kind="guard" x="-168" y="64">nosedive == false &amp;&amp; roll_ip == true</label><nail x="-64" y="104"/></transition><transition><source ref="id6"/><target ref="id7"/><label kind="guard" x="-240" y="-18">roll == 0</label></transition><transition><source ref="id5"/><target ref="id6"/><label kind="guard" x="-264" y="104">roll_ip == false || nosedive== true</label><label kind="assignment" x="-228" y="120">roll = 0</label></transition><transition><source ref="id4"/><target ref="id6"/><label kind="guard" x="-204" y="34">nosedive == true || roll_ip == false</label><label kind="assignment" x="-136" y="56">roll = 0</label></transition><transition><source ref="id4"/><target ref="id5"/><label kind="guard" x="0" y="128">roll &gt; 45</label></transition><transition><source ref="id7"/><target ref="id4"/><label kind="guard" x="-72" y="-16">roll != 0</label></transition></template><template><name>Feature_select</name><location id="id9" x="-136" y="-160"><name x="-146" y="-190">Disabled</name></location><location id="id10" x="-136" y="80"><name x="-146" y="50">Enabled</name></location><location id="id11" x="-280" y="-160"><name x="-290" y="-190">Init</name></location><init ref="id11"/><transition><source ref="id10"/><target ref="id9"/><label kind="guard" x="-17" y="-51">enable_roll_assistance == false</label><label kind="synchronisation" x="-118" y="11">roll_assist_disabled!</label><nail x="-8" y="-24"/></transition><transition><source ref="id9"/><target ref="id10"/><label kind="guard" x="-365" y="-68">enable_roll_assistance == true</label><label kind="synchronisation" x="-256" y="-32">roll_assist_enabled!</label></transition><transition><source ref="id11"/><target ref="id9"/></transition></template><template><name>Sync_sm_refined</name><location id="id12" x="-1080" y="-592"><name x="-1090" y="-622">Init</name></location><location id="id13" x="-912" y="-608"><name x="-922" y="-638">disabled</name></location><location id="id14" x="-712" y="-328"><name x="-722" y="-358">compensating</name></location><location id="id15" x="-440" y="-120"><name x="-450" y="-150">blocking</name></location><location id="id16" x="-208" y="-328"><name x="-218" y="-358">rolling</name></location><location id="id17" x="-456" y="-488"><name x="-466" y="-518">monitoring</name></location><location id="id18" x="-136" y="-488"><name x="-146" y="-518">threshold_update</name></location><location id="id19" x="-584" y="-592"><name x="-594" y="-622">enabled</name></location><init ref="id12"/><transition><source ref="id14"/><target ref="id16"/><label kind="guard" x="-552" y="-304">roll_ip == true &amp;&amp; nosedive== false</label><nail x="-472" y="-264"/></transition><transition><source ref="id17"/><target ref="id14"/><label kind="guard" x="-704" y="-448">nosedive == true</label><label kind="assignment" x="-624" y="-392">roll = 0</label><nail x="-632" y="-472"/></transition><transition><source ref="id18"/><target ref="id17"/><nail x="-256" y="-440"/></transition><transition><source ref="id19"/><target ref="id13"/><label kind="guard" x="-936" y="-464">enable_roll_assistance == false</label><nail x="-888" y="-496"/></transition><transition><source ref="id12"/><target ref="id13"/></transition><transition><source ref="id13"/><target ref="id19"/><label kind="guard" x="-832" y="-600">enable_roll_assistance == true</label></transition><transition><source ref="id16"/><target ref="id14"/><label kind="guard" x="-544" y="-360">nosedive == true || roll_ip == false</label><label kind="assignment" x="-520" y="-328">roll = 0</label></transition><transition><source ref="id14"/><target ref="id17"/><label kind="guard" x="-632" y="-408">roll == 0 || manual_mode == true</label></transition><transition><source ref="id15"/><target ref="id14"/><label kind="guard" x="-664" y="-216">roll_ip == false || nosedive== true</label><label kind="assignment" x="-636" y="-224">roll =0</label></transition><transition><source ref="id16"/><target ref="id15"/><label kind="guard" x="-336" y="-232">roll &gt; 45</label></transition><transition><source ref="id17"/><target ref="id16"/><label kind="guard" x="-392" y="-438">roll != 0</label></transition><transition><source ref="id17"/><target ref="id18"/><label kind="guard" x="-336" y="-488">alt_mode_chg == true</label></transition><transition><source ref="id19"/><target ref="id17"/></transition></template><system>// Place template instantiations here.
ProcessAlt_assist = Alt_assist();
ProcessRole_assist = Role_assist();
ProcessFeature_select = Feature_select();

ProcessSync = Sync_sm_refined();

// List one or more processes to be composed into a system.
system ProcessFeature_select, ProcessRole_assist, ProcessAlt_assist,ProcessSync;//Process;
</system></nta>